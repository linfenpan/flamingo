# 赋值

在smarty中，赋值可以通过assign进行，这点，跟freemaker比较类似。

``` tpl
{assign var='author' value='da宗熊'}

可以简写为：

{assign 'author' 'da宗熊'}

```

上述声明了一个 author 的变量，其值为 'da宗熊'。而读取，则遵循php的原则:

``` php
{$author}
```
需要在变量名前，添加 '$' 修饰符


而在smarty中，有着更为简单的赋值方式：

``` tpl
{$author='da宗熊'}
```
它跟{assign}是等价的。



# 数组插入数据

其实，我一直都不怎么觉得，在smarty模板中，插入数据，有什么重大的意义，不过，学到了，就顺手介绍一下吧。

声明一个数组：

``` tpl

{$list = [1, 2, 3, 4, 5]}
```

调用append内置函数，给数组插入数据:

``` tpl
{append var='list' value=6}
```
得到的结果，将会是:
``` tpl
$list:[1,2,3,4,5,6]
```


参数: index

它将决定插入的值，放在哪个索引下:
``` tpl
{append var='list' value=6 index=0}

结果将会是:[6, 2, 3, 4, 5]
```
注意了，index指定的话，是覆盖掉原本的值的说~

# for循环

经典的for循环，不过，好像不怎么受后端同学的欢迎。
不过，它创建的简单循环，还是非常有用的。
``` tpl
{for $item=1 to 3}
	{$item}
{/for}
```
上述例子，循环从1开始，到3结束:
```
1 2 3
```

参数：max
最大的循环次数：
```tpl
{for $index=0 to 10 max=2}
	{$index}
{/for}
结果:
0 1
```

其中，跟for匹配的，有一个forelse的内置函数:
``` tpl
{for $item=0 to -1}
		{$item}
	{forelse}
		没有数据
{/for}
```
如果一次循环都没进入，则进入forelse流程。注意咯，就算是 ‘$item=0 to 0’ ，也至少进行一次循环哦~

# foreach循环

这个循环也是非常简单，不过，内置了很多方便判定的变量属性。
``` tpl
{$list = [1, 2, 3]}
```
调用:
``` tpl
{foreach $list as $item}
	{$item}
{/foreach}
输出:
1 2 3
```

也可以遍历复合的数组:
```tpl
{$list = [
	't1' => 1,
	't2' => 2,
	't3' => 3
]}

{foreach $list as $item}
	{$item@key}: {$item@value}
	等价于:
	{$item@key}: {$item}
{/foreach}

该循环，也可以写成这样:

{foreach $list as $key=>$value}
	{$key}: {$value}
{/foreach}

```

跟for类似，也有一个foreachelse的奇怪变量，作用也一样~

而foreach比for强大的地方，在于：
 1. 内置的属性: @index, @iteration, @first, @last, @show, @total
 2. 语法命令: {break}, {continue}

其中语法命令，不用说明，目测就知道效果了。

@index: 当前数组的索引
@iteration: 当前循环的次数
@first: 是否首次循环
@last: 是否最后一次循环
@show: 循环执行后，检测循环是否有显示数据
@total: foreach的循环次数

``` tpl
{foreach $list as $item}
	{$item@index}
	{$item@last}
	{$item@iteration}
	{$item@total}
{/foreach}
也可以在循环结束后，调用show：
{$item@show} 
```